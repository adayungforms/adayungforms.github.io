import{d as B,n as X,p as f,ah as J,a0 as M,C as V,a1 as R,h as Z,u as Y,A as ee,aa as oe,r as a,o as ne,c as se,b as i,g as e,e as o,K as ae,w as n,B as k,Q as C,R as z,f as m,t as L,au as A,av as D,ak as te,al as le,aw as ie,ax as re,a7 as ce,_ as de}from"./index-86f267c0.js";import{k as ue,f as pe,b as _e,c as me,i as he,j as fe,d as I,g as ge,a as U}from"./dark-12eb942d.js";const h=B({name:"Motion",props:{delay:{type:Number,default:50}},render(){const{delay:r}=this,t=X("motion");return f(J("div",{},{default:()=>[this.$slots.default()]}),[[t,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:r}}}]])}}),we=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,ve=M({password:[{validator:(r,t,c)=>{t===""?c(new Error(V(R("login.passwordReg")))):we.test(t)?c():c(new Error(V(R("login.passwordRuleReg"))))},trigger:"blur"}]}),ye=""+new URL("../png/bg-0c99b1d8.png",import.meta.url).href,be={width:24,height:24,body:'<path fill="currentColor" d="M19 10h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h1V9a7 7 0 0 1 14 0v1Zm-2 0V9A5 5 0 0 0 7 9v1h10Zm-6 4v4h2v-4h-2Z"/>'},xe={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2Zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12Z"/>'},ke=r=>(te("data-v-5bab5274"),r=r(),le(),r),Ce={class:"select-none"},ze=["src"],Ie={class:"flex-c absolute right-5 top-3"},Ve={class:"check-en"},Re={class:"login-container"},Se=ke(()=>i("div",{class:"img"},null,-1)),Te={class:"login-box"},Ee={class:"login-form"},$e={class:"outline-none"},Ze=B({name:"Login",__name:"index",setup(r){const t=Z(!1),c=Z(),{initStorage:N}=ue();N();const{t:g}=Y(),{dataTheme:w,dataThemeChange:S}=pe();S();const{title:F,getDropdownItemStyle:v,getDropdownItemClass:y}=_e(),{locale:s,translationTw:H,translationCh:P,translationEn:O}=me(),d=M({username:"admin",password:"admin123"}),j=()=>{A.push({name:"assessmentSelectPage"}),D("Success",{type:"success"})},q=async u=>{t.value=!0,u&&await u.validate((l,b)=>{if(l)ie().loginByUsername({username:d.username,password:"admin123"}).then(p=>{p.success&&re().then(()=>{A.push(ce(!0).path),D("登录成功",{type:"success"})})});else return t.value=!1,b})};function T({code:u}){u==="Enter"&&q(c.value)}return ee(()=>{window.document.addEventListener("keypress",T)}),oe(()=>{window.document.removeEventListener("keypress",T)}),(u,l)=>{const b=a("el-switch"),p=a("IconifyIconOffline"),x=a("el-dropdown-item"),G=a("el-dropdown-menu"),K=a("el-dropdown"),E=a("el-input"),$=a("el-form-item"),Q=a("el-button"),W=a("el-form");return ne(),se("div",Ce,[i("img",{src:e(ye),class:"wave"},null,8,ze),i("div",Ie,[o(b,{modelValue:e(w),"onUpdate:modelValue":l[0]||(l[0]=_=>ae(w)?w.value=_:null),"inline-prompt":"","active-icon":e(he),"inactive-icon":e(fe),onChange:e(S)},null,8,["modelValue","active-icon","inactive-icon","onChange"]),o(K,{trigger:"click"},{dropdown:n(()=>[o(G,{class:"translation"},{default:n(()=>[o(x,{style:k(e(v)(e(s),"zhTw")),class:C(["dark:!text-white",e(y)(e(s),"zhTw")]),onClick:e(H)},{default:n(()=>[f(o(p,{class:"check-zhTw",icon:e(I)},null,8,["icon"]),[[z,e(s)==="zhTw"]]),m(" 繁體中文 ")]),_:1},8,["style","class","onClick"]),o(x,{style:k(e(v)(e(s),"zh")),class:C(["dark:!text-white",e(y)(e(s),"zh")]),onClick:e(P)},{default:n(()=>[f(o(p,{class:"check-zh",icon:e(I)},null,8,["icon"]),[[z,e(s)==="zh"]]),m(" 简体中文 ")]),_:1},8,["style","class","onClick"]),o(x,{style:k(e(v)(e(s),"en")),class:C(["dark:!text-white",e(y)(e(s),"en")]),onClick:e(O)},{default:n(()=>[f(i("span",Ve,[o(p,{icon:e(I)},null,8,["icon"])],512),[[z,e(s)==="en"]]),m(" English ")]),_:1},8,["style","class","onClick"])]),_:1})]),default:n(()=>[o(e(ge),{class:"hover:text-primary hover:!bg-[transparent] w-[20px] h-[20px] ml-1.5 cursor-pointer outline-none duration-300"})]),_:1})]),i("div",Re,[Se,i("div",Te,[i("div",Ee,[o(e(h),null,{default:n(()=>[i("h2",$e,L(e(F)),1)]),_:1}),o(W,{ref_key:"ruleFormRef",ref:c,model:d,rules:e(ve),size:"large"},{default:n(()=>[o(e(h),{delay:100},{default:n(()=>[o($,{rules:[{required:!0,message:e(V)(e(R)("login.usernameReg")),trigger:"blur"}],prop:"username"},{default:n(()=>[o(E,{clearable:"",modelValue:d.username,"onUpdate:modelValue":l[1]||(l[1]=_=>d.username=_),placeholder:e(g)("login.username"),"prefix-icon":e(U)(e(xe))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1},8,["rules"])]),_:1}),o(e(h),{delay:150},{default:n(()=>[o($,{prop:"password"},{default:n(()=>[o(E,{clearable:"","show-password":"",modelValue:d.password,"onUpdate:modelValue":l[2]||(l[2]=_=>d.password=_),placeholder:e(g)("login.password"),"prefix-icon":e(U)(e(be))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(h),{delay:250},{default:n(()=>[o(Q,{class:"w-full mt-4",size:"default",type:"primary",round:"",loading:t.value,onClick:j},{default:n(()=>[m(L(e(g)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])])}}});const De=de(Ze,[["__scopeId","data-v-5bab5274"]]);export{De as default};
