import{d as S,aG as C,aH as I,aI as D,h as b,a as x,U,P as w,aJ as B,aK as E,_ as N,r as n,o as l,c as f,e as i,w as u,b as s,F as L,j as R,t as T,i as k,l as V,f as y,ak as $,al as F}from"./index-fd231fce.js";const q=S({components:{ElUpload:C,ElButton:I,ElIcon:D},setup(){const e=b([]),r=b(!0),c=x(),p=U(),h=a=>{const o=new FormData;o.append("file",a);const t={name:a.name,status:"uploading"};return e.value.push(t),B.post("https://reg-tech.dev.finnospace.io/file/upload",o,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{t.status="done",t.fileId=m.data.fileId,_()}).catch(()=>{t.status="error",E.error("Upload failed")}),!1},_=()=>{r.value=e.value.some(a=>a.status!=="done")};return w(e,_,{deep:!0}),{files:e,uploadDisabled:r,beforeUpload:h,callSubmit:()=>{p.query.assType==="ira"?c.push({name:"iraResult"}):p.query.assType==="mla"&&c.push({name:"maturityLevelSummary"}),c.push({name:"iraResult"})}}}});const g=e=>($("data-v-5d934789"),e=e(),F(),e),j={class:"container"},G=g(()=>s("i",{class:"el-icon-upload"},null,-1)),H=g(()=>s("div",{class:"el-upload__text"},[y("Drag & drop or"),s("em",null,"click to upload")],-1)),J={class:"file-list"},K={class:"file-name"},P={class:"file-status"};function z(e,r,c,p,h,_){const v=n("el-upload"),a=n("Loading"),o=n("el-icon"),t=n("Check"),m=n("el-button");return l(),f("div",j,[i(v,{action:"#","before-upload":e.beforeUpload,multiple:"",drag:"",accept:".pdf"},{default:u(()=>[G,H]),_:1},8,["before-upload"]),s("div",J,[(l(!0),f(L,null,R(e.files,d=>(l(),f("div",{key:d.name,class:"file-item"},[s("div",K,T(d.name),1),s("div",P,[d.status==="uploading"?(l(),k(o,{key:0,class:"is-loading"},{default:u(()=>[i(a)]),_:1})):d.status==="done"?(l(),k(o,{key:1},{default:u(()=>[i(t)]),_:1})):V("",!0)])]))),128))]),i(m,{disabled:e.uploadDisabled,onClick:e.callSubmit},{default:u(()=>[y("Submit")]),_:1},8,["disabled","onClick"])])}const M=N(q,[["render",z],["__scopeId","data-v-5d934789"]]);export{M as default};
